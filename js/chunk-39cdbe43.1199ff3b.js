(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39cdbe43"],{"4ab9":function(t,a,n){"use strict";var e=n("5fba"),o=n.n(e);n.d(a,"default",(function(){return o.a}))},"5fba":function(t,a,n){t.exports={cart:"Index_cart_1DdX6",totalcart_table:"Index_totalcart_table_2ftL-"}},"777a":function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("Layout",[n("div",{attrs:{id:t.$style.cart}},[n("div",{staticClass:"row justify-content-center my-4"},[t.havingShoppingBagItems?[n("div",{staticClass:"col-md-9"},[n("div",{staticClass:"text-right mb-3"},[n("BaseButton",{staticClass:"btn btn-outline-danger btn-sm rounded-0",attrs:{type:"button"},on:{click:function(a){return t.onDeleteAllCartItem()}}},[t._v(" Delete All ")])],1),n("table",{staticClass:"table text-center"},[n("thead",[n("th",[t._v("Commodity")]),n("th",{attrs:{width:"150px"}},[t._v("Qty")]),n("th",[t._v("Price for Each")]),n("th",[t._v("Unit")]),n("th",[t._v("Delete")])]),t.shoppingCart.length?n("tbody",t._l(t.shoppingCart,(function(a){return n("tr",{key:a.id},[n("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),n("td",{staticClass:"align-middle"},[n("div",{staticClass:"input-group bg-light"},[n("div",{staticClass:"input-group-append"},[n("BaseButton",{staticClass:"btn btn-outline-dark",attrs:{type:"button",disabled:1===a.quantity},on:{click:function(n){return t.onUpdateQuantity(a.product.id,a.quantity-1)}}},[t._v(" - ")])],1),n("input",{ref:"commodityQty",refInFor:!0,staticClass:"form-control text-center",attrs:{type:"text"},domProps:{value:a.quantity},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.onUpdateQuantity(a.product.id,n.target.value)},change:function(n){return t.onChangeComodityQty(a.product.id)}}}),n("div",{staticClass:"input-group-prepend"},[n("BaseButton",{staticClass:"btn btn-outline-dark",attrs:{type:"button"},on:{click:function(n){return t.onUpdateQuantity(a.product.id,a.quantity+1)}}},[t._v(" + ")])],1)])]),n("td",{staticClass:"align-middle"},[t._v(" "+t._s(t._f("thousands")(a.product.price))+" ")]),n("td",{staticClass:"align-middle"},[t._v(t._s(a.product.unit))]),n("td",{staticClass:"align-middle"},[n("BaseButton",{staticClass:"btn btn-outline-danger btn-sm rounded-0",attrs:{type:"button"},on:{click:function(n){return t.onDeleteCartItem(a.product.id)}}},[t._v(" Delete ")])],1)])})),0):t._e()]),n("div",{staticClass:"float-right",class:t.$style.totalcart},[n("div",{class:t.$style.totalcart_table},[n("table",{staticClass:"border-bottom"},[n("tbody",[n("tr",[n("th",{attrs:{width:"150px"}},[t._v("Subtotal")]),n("td",[n("span",[t._v(" "+t._s(t._f("thousands")(t.totalPrice))+" "),n("em",[t._v("NT")])])])])])]),n("BaseButton",{staticClass:"btn btn-dark btn-block rounded-0 mt-2",attrs:{type:"button",to:{name:"Checkout"}},on:{click:t.onGoingCheckout}},[t._v(" CHECKOUT ")])],1)])])]:[n("div",{staticClass:"emptyShoppingBag mt-5"},[n("p",{staticClass:"h2"},[t._v("Shopping Bag")]),n("p",[t._v("You have nothing in your bag.")])])]],2),n("Loading",{attrs:{active:this.isLoading},on:{"update:active":function(a){return t.$set(this,"isLoading",a)}}})],1)])},o=[],i=(n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("159b"),n("82c0")),s={components:{Layout:function(){return n.e("chunk-2d0abbda").then(n.bind(null,"1720"))}},data:function(){return{shoppingCart:[],totalPrice:0,havingShoppingBagItems:!0,isLoading:!1}},methods:{getShoppingCart:function(){var t=this;this.isLoading=!0;var a={method:"GET",url:"".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/ec/shopping")};i["b"].ajaxSubmit(a,(function(a){t.shoppingCart=a.data,t.totalPrice=0,t.shoppingCart.forEach((function(a){t.totalPrice+=a.product.price*a.quantity})),0===t.shoppingCart.length&&(t.havingShoppingBagItems=!1),t.isLoading=!1}))},onGoingCheckout:function(){console.log("onGoingCheckout")},onDeleteAllCartItem:function(){var t=this,a={method:"DELETE",url:"".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/ec/shopping/all/product")};i["b"].ajaxSubmit(a,(function(a){i["a"](a.message,"warning"),t.getShoppingCart()}))},onUpdateQuantity:function(t,a){var n=this,e={method:"PATCH",url:"".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/ec/shopping"),params:{product:t,quantity:a}};i["b"].ajaxSubmit(e,(function(t){n.getShoppingCart()}))},onDeleteCartItem:function(t){var a=this,n={method:"DELETE",url:"".concat("https://course-ec-api.hexschool.io","/api/").concat("d5ab7a96-794d-433e-9fc9-13fa71ebe3d6","/ec/shopping/").concat(t)};i["b"].ajaxSubmit(n,(function(t){i["a"](t.message,"warning"),a.getShoppingCart()}))},onChangeComodityQty:function(t){this.onUpdateQuantity(t,window.$(this.$refs.commodityQty[0]).val())}},mounted:function(){this.getShoppingCart()}},r=s,c=n("4ab9"),l=n("2877");function d(t){this["$style"]=c["default"].locals||c["default"]}var u=Object(l["a"])(r,e,o,!1,d,null,null);a["default"]=u.exports},"82c0":function(t,a,n){"use strict";n.d(a,"a",(function(){return i})),n.d(a,"b",(function(){return s}));var e=n("2b0e"),o=n("1157");function i(t,a,n,e,i,s){if(""!==a&&void 0!==a||(a="danger"),""===n||void 0===n)switch(a){case"success":n="fas fa-check-circle";break;case"info":n="fas fa-info-circle";break;case"warning":n="fas fa-exclamation-triangle";break;case"danger":n="fas fa-times-circle";break;default:n="fas fa-question-circle";break}o["notify"]({icon:n,title:e,message:t,url:i,target:s},{element:"body",position:null,type:a,allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"center"},offset:20,spacing:10,z_index:9999,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-11 col-sm-6 col-lg-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">Ã—</button><i data-notify="icon"></i> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}var s=new e["default"]({methods:{ajaxSubmit:function(t,a){this.$http(t).then((function(t){t.status&&a(t.data)})).catch((function(t){i(t.response.data.errors[0],"danger")}))}}})},8418:function(t,a,n){"use strict";var e=n("a04b"),o=n("9bf2"),i=n("5c6c");t.exports=function(t,a,n){var s=e(a);s in t?o.f(t,s,i(0,n)):t[s]=n}},"99af":function(t,a,n){"use strict";var e=n("23e7"),o=n("d039"),i=n("e8b5"),s=n("861d"),r=n("7b0b"),c=n("50c4"),l=n("8418"),d=n("65f0"),u=n("1dde"),p=n("b622"),f=n("2d00"),h=p("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",m=f>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=u("concat"),y=function(t){if(!s(t))return!1;var a=t[h];return void 0!==a?!!a:i(t)},C=!m||!v;e({target:"Array",proto:!0,forced:C},{concat:function(t){var a,n,e,o,i,s=r(this),u=d(s,0),p=0;for(a=-1,e=arguments.length;a<e;a++)if(i=-1===a?s:arguments[a],y(i)){if(o=c(i.length),p+o>g)throw TypeError(b);for(n=0;n<o;n++,p++)n in i&&l(u,p,i[n])}else{if(p>=g)throw TypeError(b);l(u,p++,i)}return u.length=p,u}})}}]);